{"name":"Cookie preference persists across pages","id":"cookie-banner-functionality;cookie-preference-persists-across-pages","scenarioId":"CookiesBanner:Cookie preference persists across pages","methodName":"Cookie preference persists across pages","testSteps":[{"number":1,"description":"Given I am checking start page","duration":181,"startTime":"2025-09-10T16:45:55.548188+01:00[Europe/London]","result":"SUCCESS","precondition":false,"level":0},{"number":2,"description":"When I accept cookies","duration":12073,"startTime":"2025-09-10T16:45:55.729965+01:00[Europe/London]","precondition":false,"level":0,"children":[{"number":3,"description":"Accept analytics cookies","duration":1881,"startTime":"2025-09-10T16:46:05.921662+01:00[Europe/London]","screenshots":[{"screenshot":"7bc89f47bb860952a0630ad4071611f4bd1ac207fdab605ee243d307f9ad11ca.png","htmlSource":"pagesource1122218259441890650.html","timeStamp":1757519167802,"screenshotName":"7bc89f47bb860952a0630ad4071611f4bd1ac207fdab605ee243d307f9ad11ca.png"}],"exception":{"errorType":"net.thucydides.core.webdriver.exceptions.ElementShouldBeEnabledException","message":"Expected enabled element was not enabled","stackTrace":[{"declaringClass":"nhsbsa.exch.pages.CookieBannerPage","methodName":"acceptAnalyticsCookies","fileName":"CookieBannerPage.java","lineNumber":17},{"declaringClass":"nhsbsa.exch.action.CookieBannerActions","methodName":"I_accept_cookies","fileName":"CookieBannerActions.java","lineNumber":10},{"declaringClass":"nhsbsa.exch.stepDefinitions.CookiesStepDefs","methodName":"i_accept_cookies","fileName":"CookiesStepDefs.java","lineNumber":21}],"rootCause":{"errorType":"org.openqa.selenium.TimeoutException","message":"Expected condition failed: waiting for By.className: nhsuk-cookie-banner__link_accept_analytics to be clickable (tried for 10 second(s) with 100 milliseconds interval)","stackTrace":[{"declaringClass":"nhsbsa.exch.pages.CookieBannerPage","methodName":"acceptAnalyticsCookies","fileName":"CookieBannerPage.java","lineNumber":17},{"declaringClass":"nhsbsa.exch.action.CookieBannerActions","methodName":"I_accept_cookies","fileName":"CookieBannerActions.java","lineNumber":10},{"declaringClass":"nhsbsa.exch.stepDefinitions.CookiesStepDefs","methodName":"i_accept_cookies","fileName":"CookiesStepDefs.java","lineNumber":21}],"rootCause":{"errorType":"org.openqa.selenium.NoSuchElementException","message":"no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".nhsuk\\-cookie\\-banner__link_accept_analytics\"}\n  (Session info: chrome\u003d139.0.7258.155)\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\nBuild info: version: \u00274.27.0\u0027, revision: \u0027d6e718d134\u0027\nSystem info: os.name: \u0027Mac OS X\u0027, os.arch: \u0027x86_64\u0027, os.version: \u002715.6.1\u0027, java.version: \u002724.0.2\u0027\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [a15df0b624635b0ee6fa2bf04d632259, findElement {using\u003dclass name, value\u003dnhsuk-cookie-banner__link_accept_analytics}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 139.0.7258.155, chrome: {chromedriverVersion: 139.0.7258.154 (9e0d6b2b47f..., userDataDir: /var/folders/mm/b3vj4jfd47j...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:64796}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:64796/devtoo..., se:cdpVersion: 139.0.7258.155, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: a15df0b624635b0ee6fa2bf04d632259","stackTrace":[{"declaringClass":"nhsbsa.exch.pages.CookieBannerPage","methodName":"acceptAnalyticsCookies","fileName":"CookieBannerPage.java","lineNumber":17},{"declaringClass":"nhsbsa.exch.action.CookieBannerActions","methodName":"I_accept_cookies","fileName":"CookieBannerActions.java","lineNumber":10},{"declaringClass":"nhsbsa.exch.stepDefinitions.CookiesStepDefs","methodName":"i_accept_cookies","fileName":"CookiesStepDefs.java","lineNumber":21}]}}},"result":"FAILURE","precondition":false,"level":1}]},{"number":4,"description":"I accept cookies","duration":1,"startTime":"2025-09-10T16:46:07.803658+01:00[Europe/London]","result":"FAILURE","precondition":false,"level":0},{"number":5,"description":"And I navigate to the Date of Birth Page","duration":0,"startTime":"2025-09-10T16:46:07.807156+01:00[Europe/London]","result":"SKIPPED","precondition":false,"level":0},{"number":6,"description":"Then the cookie banner should not be displayed","duration":0,"startTime":"2025-09-10T16:46:07.808184+01:00[Europe/London]","result":"SKIPPED","precondition":false,"level":0},{"number":7,"description":"When I navigate to the Name Page","duration":0,"startTime":"2025-09-10T16:46:07.809175+01:00[Europe/London]","result":"SKIPPED","precondition":false,"level":0},{"number":8,"description":"Then the cookie banner should not be displayed","duration":0,"startTime":"2025-09-10T16:46:07.810377+01:00[Europe/London]","result":"SKIPPED","precondition":false,"level":0},{"number":9,"description":"When I navigate to the Result Page","duration":0,"startTime":"2025-09-10T16:46:07.811324+01:00[Europe/London]","result":"SKIPPED","precondition":false,"level":0},{"number":10,"description":"Then the cookie banner should not be displayed","duration":0,"startTime":"2025-09-10T16:46:07.812334+01:00[Europe/London]","result":"SKIPPED","precondition":false,"level":0}],"userStory":{"id":"CookiesBanner","storyName":"Cookie banner functionality","displayName":"Cookie banner functionality","path":"CookiesBanner","pathElements":[{"name":"CookiesBanner","description":""}],"type":"feature"},"title":"Cookie preference persists across pages","description":"","backgroundTitle":"","backgroundDescription":"","tags":[{"name":"Chrome","type":"context","displayName":"Chrome"},{"name":"Mac","type":"context","displayName":"Mac"},{"name":"Chrome, Mac","type":"context","displayName":"Chrome, Mac"}],"startTime":"2025-09-10T16:45:55.547824+01:00[Europe/London]","endTime":"2025-09-10T16:46:07.813433+01:00[Europe/London]","duration":180,"testFailureCause":{"errorType":"net.thucydides.core.webdriver.exceptions.ElementShouldBeEnabledException","message":"Expected enabled element was not enabled","stackTrace":[{"declaringClass":"nhsbsa.exch.pages.CookieBannerPage","methodName":"acceptAnalyticsCookies","fileName":"CookieBannerPage.java","lineNumber":17},{"declaringClass":"nhsbsa.exch.action.CookieBannerActions","methodName":"I_accept_cookies","fileName":"CookieBannerActions.java","lineNumber":10},{"declaringClass":"nhsbsa.exch.stepDefinitions.CookiesStepDefs","methodName":"i_accept_cookies","fileName":"CookiesStepDefs.java","lineNumber":21}],"rootCause":{"errorType":"org.openqa.selenium.TimeoutException","message":"Expected condition failed: waiting for By.className: nhsuk-cookie-banner__link_accept_analytics to be clickable (tried for 10 second(s) with 100 milliseconds interval)","stackTrace":[{"declaringClass":"nhsbsa.exch.pages.CookieBannerPage","methodName":"acceptAnalyticsCookies","fileName":"CookieBannerPage.java","lineNumber":17},{"declaringClass":"nhsbsa.exch.action.CookieBannerActions","methodName":"I_accept_cookies","fileName":"CookieBannerActions.java","lineNumber":10},{"declaringClass":"nhsbsa.exch.stepDefinitions.CookiesStepDefs","methodName":"i_accept_cookies","fileName":"CookiesStepDefs.java","lineNumber":21}],"rootCause":{"errorType":"org.openqa.selenium.NoSuchElementException","message":"no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".nhsuk\\-cookie\\-banner__link_accept_analytics\"}\n  (Session info: chrome\u003d139.0.7258.155)\nFor documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception\nBuild info: version: \u00274.27.0\u0027, revision: \u0027d6e718d134\u0027\nSystem info: os.name: \u0027Mac OS X\u0027, os.arch: \u0027x86_64\u0027, os.version: \u002715.6.1\u0027, java.version: \u002724.0.2\u0027\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [a15df0b624635b0ee6fa2bf04d632259, findElement {using\u003dclass name, value\u003dnhsuk-cookie-banner__link_accept_analytics}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 139.0.7258.155, chrome: {chromedriverVersion: 139.0.7258.154 (9e0d6b2b47f..., userDataDir: /var/folders/mm/b3vj4jfd47j...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:64796}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:64796/devtoo..., se:cdpVersion: 139.0.7258.155, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: a15df0b624635b0ee6fa2bf04d632259","stackTrace":[{"declaringClass":"nhsbsa.exch.pages.CookieBannerPage","methodName":"acceptAnalyticsCookies","fileName":"CookieBannerPage.java","lineNumber":17},{"declaringClass":"nhsbsa.exch.action.CookieBannerActions","methodName":"I_accept_cookies","fileName":"CookieBannerActions.java","lineNumber":10},{"declaringClass":"nhsbsa.exch.stepDefinitions.CookiesStepDefs","methodName":"i_accept_cookies","fileName":"CookiesStepDefs.java","lineNumber":21}]}}},"testFailureClassname":"net.thucydides.core.webdriver.exceptions.ElementShouldBeEnabledException","testFailureMessage":"Expected enabled element was not enabled","testFailureSummary":"FAILURE;net.thucydides.core.webdriver.exceptions.ElementShouldBeEnabledException;Expected enabled element was not enabled;CookieBannerPage.java","projectKey":"","annotatedResult":"FAILURE","sessionId":"a15df0b624635b0ee6fa2bf04d632259","driver":"chrome","isManualTestingUpToDate":false,"context":"chrome,mac","manual":false,"testSource":"Cucumber","order":0,"result":"FAILURE"}